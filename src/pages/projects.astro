---
import { Image } from 'astro:assets';
import H1 from "../components/h1.astro";
import InfoLayout from "../layouts/InfoLayout.astro";
import ACGenerator from "../assets/ac-generator.jpg";
import FluidPropulsion from "../assets/fluid-propulsion.jpg";
import ElectricMotor from "../assets/electro-magnetic-motor.jpg";

const projects = [
     {
          title: "AC Generator",
          description: "Transform mechanical energy into alternating current, powering the modern electric grid",
          image: ACGenerator,
          category: "main"
     },
     {
          title: "Fluid Propulsion",
          description: "Bladeless turbine using fluid dynamics for efficient, low-friction propulsion.",
          image: FluidPropulsion,
          category: "main"
     },
     {
          title: "Electro-Magnetic Motor",
          description: "Harness alternating current to produce smooth, efficient rotary motion.",
          image: ElectricMotor,
          category: "side"
     }];

const mainProjects = projects.filter(p => p.category === "main");
const sideProjects = projects.filter(p => p.category === "side");
---

<InfoLayout>
     <div class="p-4 pb-20 sm:pt-8 sm:px-12 min-h-dvh">
          <H1> Projects </H1>

          {mainProjects.length > 0 && (
               <div class="mt-8 sm:mt-12">
                    <h2 class="mb-6 text-xl font-semibold sm:text-2xl text-zinc-100">Main Projects</h2>
                    <ul class="grid grid-cols-1 gap-16 lg:grid-cols-2 xl:grid-cols-3 sm:gap-8">
                         {mainProjects.map((project) => (
                              <li>
                                   <Image src={project.image} alt={project.title} class="aspect-[1/1.33] object-center object-cover rounded-lg shadow-lg mb-4 sm:mb-0 sm:mr-4" />
                                   <div class="p-1 sm:p-2">
                                        <h3 class="text-base text-zinc-100">{project.title}</h3>
                                        <p class="text-sm text-zinc-400 text-balance">{project.description}</p>
                                   </div>
                              </li>
                         ))}
                    </ul>
               </div>
          )}

          {sideProjects.length > 0 && (
               <div class="mt-12 sm:mt-16">
                    <h2 class="mb-6 text-xl font-semibold sm:text-2xl text-zinc-100">Side Projects</h2>
                    <ul class="grid grid-cols-1 gap-16 lg:grid-cols-2 xl:grid-cols-3 sm:gap-8">
                         {sideProjects.map((project) => (
                              <li>
                                   <Image src={project.image} alt={project.title} class="aspect-[1/1.33] object-center object-cover rounded-lg shadow-lg mb-4 sm:mb-0 sm:mr-4" />
                                   <div class="p-1 sm:p-2">
                                        <h3 class="text-base text-zinc-100">{project.title}</h3>
                                        <p class="text-sm text-zinc-400 text-balance">{project.description}</p>
                                   </div>
                              </li>
                         ))}
                    </ul>
               </div>
          )}
     </div>
</InfoLayout>